{"ast":null,"code":"export function runAjax(link, method = \"GET\", data = {}) // callback = () => {\n//   this.getObjects();\n// }\n{\n  let options;\n\n  if (method === \"GET\") {\n    options = {\n      method: \"GET\"\n    };\n  } else {\n    options = {\n      method: method,\n      body: JSON.stringify(data),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"same-origin\"\n    };\n  }\n\n  fetch(link, options).then(response => {\n    if (!response.ok) {\n      throw response;\n    }\n\n    let res = response.json();\n    console.log(res);\n    return res;\n  }); // .then((result) => {\n  //   callback(result);\n  // })\n  // .catch((error) => {\n  //   if (error.statusText) {\n  //     this.setState({ error: error });\n  //   }\n  //   callback(error);\n  // });\n}","map":{"version":3,"sources":["/Users/jeffreyigims/Documents/survey/src/utils/APIUtils.js"],"names":["runAjax","link","method","data","options","body","JSON","stringify","headers","credentials","fetch","then","response","ok","res","json","console","log"],"mappings":"AAAA,OAAO,SAASA,OAAT,CACLC,IADK,EAELC,MAAM,GAAG,KAFJ,EAGLC,IAAI,GAAG,EAHF,EAIL;AACA;AACA;AACA;AACA,MAAIC,OAAJ;;AACA,MAAIF,MAAM,KAAK,KAAf,EAAsB;AACpBE,IAAAA,OAAO,GAAG;AACRF,MAAAA,MAAM,EAAE;AADA,KAAV;AAGD,GAJD,MAIO;AACLE,IAAAA,OAAO,GAAG;AACRF,MAAAA,MAAM,EAAEA,MADA;AAERG,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAFE;AAGRK,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAHD;AAMRC,MAAAA,WAAW,EAAE;AANL,KAAV;AAQD;;AAEDC,EAAAA,KAAK,CAACT,IAAD,EAAOG,OAAP,CAAL,CACGO,IADH,CACSC,QAAD,IAAc;AAClB,QAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AAChB,YAAMD,QAAN;AACD;;AACD,QAAIE,GAAG,GAAGF,QAAQ,CAACG,IAAT,EAAV;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACA,WAAOA,GAAP;AACD,GARH,EAjBA,CA0BE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH","sourcesContent":["export function runAjax(\n  link,\n  method = \"GET\",\n  data = {},\n  // callback = () => {\n  //   this.getObjects();\n  // }\n) {\n  let options;\n  if (method === \"GET\") {\n    options = {\n      method: \"GET\",\n    };\n  } else {\n    options = {\n      method: method,\n      body: JSON.stringify(data),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      credentials: \"same-origin\",\n    };\n  }\n\n  fetch(link, options)\n    .then((response) => {\n      if (!response.ok) {\n        throw response;\n      }\n      let res = response.json()\n      console.log(res)\n      return res;\n    })\n    // .then((result) => {\n    //   callback(result);\n    // })\n    // .catch((error) => {\n    //   if (error.statusText) {\n    //     this.setState({ error: error });\n    //   }\n    //   callback(error);\n    // });\n}\n"]},"metadata":{},"sourceType":"module"}